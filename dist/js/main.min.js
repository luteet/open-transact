const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header"),imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure");imageAspectRatio.forEach(e=>{const t=e.querySelector("img"),i=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==i.position&&e.style.setProperty("--padding-aspect-ratio",Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")}),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});let i=t(".scroll-to");if(i){let t;e.preventDefault(),t=document.querySelector(i.getAttribute("href")),menu.forEach(e=>{e.classList.remove("_mob-menu-active")}),t?t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}):body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}));let windowSize=0;function resize(){html.style.setProperty("--height-header",header.offsetHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),windowSize=window.innerWidth}function runSplit(){document.querySelectorAll(".split-text").forEach(e=>{let t;t=new SplitType(e,{types:"lines"}),Array.from(t.lines).forEach(t=>{let i;i=t.cloneNode(!0),i.classList.remove("line"),i.classList.add("line-body"),e.classList.contains("_animated")&&(i.style.transform="translate3d(0,0,0)"),t.innerHTML="",t.append(i)}),e.style.opacity=1})}resize(),window.addEventListener("resize",resize),gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".split-text").forEach(e=>{e.style.opacity=0}),gsap.set(header,{opacity:0}),window.addEventListener("load",(function(e){runSplit(),setTimeout(()=>{let e=0;function t(){if(e!=window.innerWidth){e=window.innerWidth,runSplit();document.querySelectorAll(".anim-section").forEach(e=>{let t=gsap.timeline({scrollTrigger:{trigger:e,start:"top 75%"}}),i=e.querySelectorAll("[data-anim-index]"),s=[];i.length&&(i.forEach(e=>{s.push(e)}),s.sort((function(e,t){return Number(e.dataset.animIndex)-Number(t.dataset.animIndex)}))),Array.from(s).forEach(e=>{if(!e.classList.contains("_animated")){if(e.classList.contains("split-text"))if(e.classList.contains("_alt-anim-text")||e.classList.contains("_animated")){if(e.classList.contains("_alt-anim-text")&&!e.classList.contains("_animated")){const i=e.querySelectorAll(".line-body");i[0]&&t.to(i,{transform:"translate3d(0,0,0)",opacity:1,duration:.5,stagger:.1,ease:"power3.out",onComplete:function(){i[0].closest(".split-text")&&i[0].closest(".split-text").classList.add("_animated")}},e.dataset.animTimelinePosition?e.dataset.animTimelinePosition:"-=0.7")}}else{const i=e.querySelectorAll(".line-body");i[0]&&(gsap.set(i,{opacity:0}),t.to(i,{transform:"translate3d(0,0,0)",opacity:1,duration:1,delay:.2,stagger:.1,ease:"power3.out",onComplete:function(){i[0].closest(".split-text")&&i[0].closest(".split-text").classList.add("_animated")}},e.dataset.animTimelinePosition?e.dataset.animTimelinePosition:"-=0.3"))}(e.classList.contains("fade-up")||e.classList.contains("fade-down")||e.classList.contains("fade-in"))&&(gsap.set(e,{opacity:0}),e.classList.contains("anim-up")&&gsap.set(e,{y:50}),e.classList.contains("fade-up")&&gsap.set(e,{y:50,opacity:0}),t.to(e,{duration:.5,opacity:1,y:0,ease:"power2.easeInOut",onComplete:function(){e.classList.add("_animated")}},e.dataset.animTimelinePosition?e.dataset.animTimelinePosition:"-=0.7")),e.classList.contains("anim-video")&&gsap.to(e,{duration:.1,scrollTrigger:{start:"35% top"},onComplete:function(){e.classList.add("_animated");const t=e.querySelector("video");t.loop=!0,setTimeout(()=>{t.play()},500)}})}})}),setTimeout(()=>{ScrollTrigger.refresh(!0)},100)}}gsap.to(header,{duration:1,opacity:1}),t(),window.addEventListener("resize",t)},500)}));